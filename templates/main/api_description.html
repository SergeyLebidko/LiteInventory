{% extends 'main/base.html' %}
{% load static %}

{% block style %}
    <link rel="stylesheet" href="{% static 'main/css/api_description.css' %}">
{% endblock %}

{% block content %}
    <div class="container">
        <!-- Описание login -->
        <div class="hook_block">
            <div class="description_block">
                <h3>
                    Вход в систему
                </h3>
                <p>
                    POST: /api/login/
                </p>
                <p>
                    На хук надо отправить username (имя пользователя) и password (пароль).
                    Если данные корректны, то хук вернет токен, который должен быть
                    сохранен на фронтэнде для аутентификации последующих запросов.
                </p>
            </div>
            <div class="code_block">
                <code>В запросе:</code>
                <ul>
                    <li>
                        <code>password: "пароль_пользователя"</code>
                    </li>
                    <li>
                        <code>username: "логин_пользователя"</code>
                    </li>
                </ul>
                <code>Ответ:</code>
                <ul>
                    <li>
                        <pre>{{ login_json }}</pre>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Описание account_data -->
        <div class="hook_block">
            <div class="description_block">
                <h3>
                    Получение данных аккаунта
                </h3>
                <p>
                    GET: /api/account_data/
                </p>
                <p>
                    Хук возвращает данные аккаунта. Для корректной обработки запроса обязательно
                    должен быть указан HTTP-заголовок Authorization с токеном запрашиваемого аккаунта.
                </p>
            </div>
            <div class="code_block">
                <code>Ответ:</code>
                <ul>
                    <li>
                        <pre>{{ account_data_json }}</pre>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Описание logout -->
        <div class="hook_block">
            <div class="description_block">
                <h3>
                    Выход из системы
                </h3>
                <p>
                    POST: /api/logout/
                </p>
                <p>
                    На хук надо отправить пустой запрос, с заголовком Authorization, в котором
                    должен быть указан токен, для которого необходимо выполнить выход из системы.
                </p>
            </div>
            <div class="code_block">
                <code>Если успешно - ответ со статусом 200</code>
            </div>
        </div>

        <!-- Описание register -->
        <div class="hook_block">
            <div class="description_block">
                <h3>
                    Регистрация нового пользователя
                </h3>
                <p>
                    POST: /api/register/
                </p>
                <p>
                    На хук надо отправить регистрационные данные создаваемого пользователя.
                    Если все хорошо: пустой ответ со статусом 201
                </p>
            </div>
            <div class="code_block">
                <code>В запросе:</code>
                <ul>
                    <li>
                        <code>username: "логин_пользователя"</code>
                    </li>
                    <li>
                        <code>password: "пароль_пользователя"</code>
                    </li>
                    <li>
                        <code>email: "email_пользователя"</code>
                    </li>
                    <li>
                        <code>first_name: "имя_пользователя"</code>
                    </li>
                    <li>
                        <code>last_name: "фамилия_пользователя"</code>
                    </li>
                </ul>
                <code>Если данные корректны: ответ со статусом 201</code>
            </div>
        </div>

        <!-- Описание edit_account -->
        <div class="hook_block">
            <div class="description_block">
                <h3>
                    Редактирование пользователя
                </h3>
                <p>
                    POST: /api/edit_account/
                </p>
                <p>
                    Ну хук надо отправить обновленные логин и email пользователя (обязательные параметры).
                    Также можно отправить имя и фамилию (необязательные параметры). В запросе должен
                    присутствовать HTTP-заголовок Authorization с токеном редактируемого пользователя.
                </p>
            </div>
            <div class="code_block">
                <code>В запросе:</code>
                <ul>
                    <li>
                        <code>username: "логин_пользователя"</code>
                    </li>
                    <li>
                        <code>email: "логин_пользователя"</code>
                    </li>
                    <li>
                        <code>first_name: "имя_пользователя"</code>
                    </li>
                    <li>
                        <code>last_name: "фамилия_пользователя"</code>
                    </li>
                </ul>
                <code>Если данные корректны: ответ со статусом 200</code>
            </div>
        </div>

        <!-- Описание remove_account -->
        <div class="hook_block">
            <div class="description_block">
                <h3>
                    Удаление пользователя
                </h3>
                <p>
                    DELETE: /api/remove_account/
                </p>
                <p>
                    Ну хук надо отправить текущий пароль пользователя.
                    В запросе должен присутствовать HTTP-заголовок Authorization с токеном удаляемого пользователя.
                </p>
            </div>
            <div class="code_block">
                <code>В запросе:</code>
                <ul>
                    <li>
                        <code>password: "пароль_пользователя"</code>
                    </li>
                </ul>
                <code>Если данные корректны: ответ со статусом 200</code>
            </div>
        </div>

        <!-- Описание change_password -->
        <div class="hook_block">
            <div class="description_block">
                <h3>
                    Изменения пароля пользователя
                </h3>
                <p>
                    POST: /api/change_password/
                </p>
                <p>
                    Ну хук надо отправить текущий и новый пароли.
                    В запросе должен присутствовать HTTP-заголовок Authorization с токеном удаляемого пользователя.
                </p>
            </div>
            <div class="code_block">
                <code>В запросе:</code>
                <ul>
                    <li>
                        <code>password: "текущий_пароль_пользователя"</code>
                    </li>
                    <li>
                        <code>password: "новый_пароль_пользователя"</code>
                    </li>
                </ul>
                <code>Если данные корректны: ответ со статусом 200</code>
            </div>
        </div>
    </div>
{% endblock %}